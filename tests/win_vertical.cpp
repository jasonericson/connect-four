#include "../core.h"

struct Game
{
    uint8_t num_moves;
    uint8_t moves[30];
};
Game games[10] = {
    { 14, { 3, 5, 3, 3, 0, 6, 6, 3, 2, 2, 6, 3, 5, 3, }},
    { 13, { 2, 3, 4, 0, 0, 5, 2, 2, 4, 6, 4, 5, 4, }},
    { 15, { 5, 5, 1, 3, 6, 3, 6, 0, 6, 4, 0, 0, 1, 1, 6, }},
    { 22, { 6, 1, 6, 4, 3, 2, 2, 5, 5, 2, 3, 5, 0, 4, 0, 5, 6, 0, 3, 4, 0, 4, }},
    { 11, { 0, 1, 4, 3, 4, 6, 4, 1, 5, 5, 4, }},
    { 9, { 3, 0, 3, 4, 0, 2, 3, 6, 3, }},
    { 12, { 0, 6, 4, 6, 5, 0, 1, 3, 2, 6, 4, 6, }},
    { 10, { 5, 6, 2, 4, 1, 4, 2, 4, 6, 4, }},
    { 24, { 0, 0, 4, 0, 3, 0, 3, 2, 3, 3, 4, 2, 3, 2, 0, 4, 3, 0, 4, 4, 5, 6, 3, 2, }},
    { 17, { 5, 3, 3, 6, 6, 5, 2, 2, 6, 2, 6, 1, 2, 1, 2, 2, 6, }},
};

int main()
{
    for (uint8_t i = 0; i < 10; ++i)
    {
        BoardState state = { 1, 1, 1, 1, 1, 1, 1 };
        uint8_t player = 1;

        for (uint8_t j = 0; j < games[i].num_moves; ++j)
        {
            make_move(player, games[i].moves[j], state);
            player = 3 - player;
        }

        if (!check_for_win(state))
        {
            return 1;
        }
    }

    return 0;
}
